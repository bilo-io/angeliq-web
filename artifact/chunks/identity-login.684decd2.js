(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1105:function(e,t,n){"use strict"},1114:function(e,t,n){"use strict";n.r(t),n.d(t,"Login",(function(){return J}));var r=n(0),o=n.n(r),i=n(9),a=n(31),c=n(60),u=n(1093),s=n(1094);n(1095),n(1096),n(1097);s.initializeApp({apiKey:"AIzaSyC-jjX9f71GjxEy-potKYFaQJg8kAsY7GA",authDomain:"vision-identity.firebaseapp.com",databaseURL:"https://vision-identity.firebaseio.com",projectId:"vision-identity",storageBucket:"vision-identity.appspot.com",messagingSenderId:"1091015811145",appId:"1:1091015811145:web:30bd18e335564b5be65f98",measurementId:"G-2ZMW0R12GQ"});var l,f,p=s.auth(),h=s.database(),b=(s.storage(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return console.log("firebase.REF: ",e,t),h.ref("/".concat(e))});l="testing",f={hello:"world"},b("my/test").child(l).set(f);n(1105);var g=n(77),d=n(75),m=n.n(d),w="https://assets.materialup.com/uploads/82eae29e-33b7-4ff7-be10-df432402b2b6/preview",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAllBMVEU7WZj///88WpdAXZpBX5tFY51FYZ3t7/V6jbgoS48vUJLS2OdSa6M3VZZuhLK2wNf3+fvd4u2Imr9NaKHEzeDv8ffh5uxje6ns7/E4V5oxUpjW3eR7j7Rddank6PHByt6dq8uQoMMjR42VpMCLnbvDzNmsuM20v9FVb6KntdFieqy0v9i8xtyYqMl+kbsdQYosT5qClrY1QXhgAAAE+ElEQVR4nO3dbXuiOBSA4QACBhoE8aVa8XWcqqjd/v8/t6LtzuzsKgdiICfXeb7ONZG7QaMGWmbdGr1/Zqnnei7+PM9Lxz+2/peM3Xyb3WTCDOqiGf98/SXcjs3yXZuI7tu3cOFO2z4cBdlsmr3dhFvPvAm8Nc1GhXA0NnEGiy6zOIsvwo2pM1jkvFtstDNZOIli9m4ykDFvy2ZmC50Z27V9DIrbMa/tQ1CcxzptH4LabIeE2CMh/kiIPxLij4T4IyH+SIg/EuKPhPgjYduJouCa+KdKI+grvMGE7bnpy7U0dV3Psb//5QtdOo6ewsIgvKy72h/DMJn7vj8vSpIkDAeLXr5frvrn6JClrl06lobCYoacQ7+XxLH1oPiSP8+9slnUTih4kHb380e235unQcmAegltwdlhH0J5lxIXl5CLKAdPH0JhwLPcL0fhFXK2rOpDJRTrqMrzD58wCE7VJxCTMHD2dXx4hLzTqwfEIuTpoCYQiTBwawNRCO3ArnuK4hDaQizrAzEIGe8//AiBX8gPiQQQgVCwowwQgVDuHEUgFI7UOaq/UAQnOaD2wuCl2uddhELZKdRdKFzJZ6HuQlv2hVR7IRP133HjEAaHWh/rEQnXJ+mTVG+hCORPUr2F8ouh7kJ+HsoLtd634FW+Xhsm4eLYy/+st9R470nA14rhYHnOUufyzBV/FOi8QxpA39DE+YFxHvxHB9zxbk/IgathEgW82s79v2tReAathmEGOBMf1aJwBQHOM6kJZK0+D0EvpX1ZYHtCIXIAcOCULXeltSdkC4DwxKUfqDVh0AEsh/MDZiFkO2bgSZ+kLQpTwKZ2T3KlKNJbuJQ/SVsUvpQL45XpwmF/Lf9AegvPvPzaw7K0FvpdEgIiobJISEJwJFQWCUkIjoTKIiEJwZFQWSQkITgSKst4oQ0UPuGRVAoFv99HByCMPh6MUAT40l+lUKTR/Q7n8m384fLwYITrKO3u4wfnoX+/IWCT+9H/v47RW5cSVQp5v9wg2b78S3HcwnhlvBDwYotbOMzKX0xxC/203ddS9cKEmS4ctLziqxfmgHd1qIUxZJ8ft7BvvDAyXQhZDnEL54DlELcwdEwXHgELPm7hHnLZG2ZhvIJcuYhaeDZeGJku9HemC5PSu7qwCweQ5RC1MIcsh6iFJ9BvMsUs7IMu5McsBC0WmIUx5LMTauH8BXQzBmJhWHoLMHbhArRYYBbuYb/2WqlwpVS4hN31pXSHNOrdLz+W3+gcD/L7Axwj2F1faq9U+P8bzK+tAXd2+d2PByMAb2trTchBwrU0UPurTfBeT2P+FUMkJCE8EiqLhCQER0JlkZCE4EioLBKSEBwJlUVCEoIjobJISEJwJFQWCUkIjoTKIiEJwZFQWSQkITgSKouEJARHQmWRkITgSKgsEpIQHAmVRUISgiOhskhIQnAkVBYJSQiOhMoiIQnBkVBZJCQhOBIqi4TPFDpPON7qNSl0n3C81WtO6LLxE463eo0JL77Pifwo1WtM2PnBtkYLRfrGXseTJ5wLVWtKOJnFzPr5jCOuWkNC4W0tZr12p6zxWWxION3EF6H1lk2fctRVakb41+zVKoRtEJsQikkBvAqt0cxp+BVV/V+0EhN3UwBvQiveRp7T5Ps3kPBcX+g46Wx7+4NL7Gu4ePuZpa7XVCwLrfhxF6GoO3w63rx9/6D+BncElkevYj5cAAAAAElFTkSuQmCC",v="https://image.flaticon.com/icons/svg/25/25231.svg";function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,i=Q(a);function a(){var e,t;I(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S(t,(e=t=i.call.apply(i,[this].concat(r)),t.loginWith=function(e){return function(){var n;switch(e){case"google":(n=new u.auth.GoogleAuthProvider).addScope("https://www.googleapis.com/auth/contacts.readonly"),p.languageCode="en",n.setCustomParameters({login_hint:"user@example.com"}),u.auth().signInWithPopup(n).then((function(e){console.log({token:e.token,user:e.user}),t.props.setUser(O(O({},e.user),{},{token:e.token})),t.props.history.push("/app/profile")})).catch((function(e){e.code,e.message,e.email,e.credential;console.log({error:e})}));break;default:alert('Auth Provider not configured: "'.concat(e,'"'))}}},e))}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"page gradient-background"},o.a.createElement("div",{className:"flex-col",style:{maxWidth:"15rem",margin:"auto"}},o.a.createElement("br",null),o.a.createElement("div",{style:{fontSize:"2rem",textAlign:"center",color:"white"}},"AngeliQ"),o.a.createElement("br",null),o.a.createElement("img",{src:m.a,style:{width:"6rem",height:"6rem",margin:"auto"}}),o.a.createElement("br",null),o.a.createElement("button",{className:"auth google",onClick:this.loginWith("google")},o.a.createElement("img",{src:w}),"Sign in with Google"),o.a.createElement("button",{className:"auth github",onClick:this.loginWith("github")},o.a.createElement("img",{src:v}),"Sign in with Github"),o.a.createElement("button",{className:"auth facebook",onClick:this.loginWith("facebook")},o.a.createElement("img",{src:y}),"Sign in with Facebook")))}}])&&C(t.prototype,n),r&&C(t,r),a}(r.Component);t.default=Object(c.b)((function(e,t){return{currentUser:e.session.currentUser}}),(function(e){return Object(a.b)({addToast:g.a,setUser:g.c,setVideoModal:g.d},e)}))(Object(i.g)(J))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9maXJlYmFzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwcy9hdXRoL2xvZ2luL3Byb3ZpZGVyLWxvZ29zLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHBzL2F1dGgvbG9naW4vaW5kZXguanMiXSwibmFtZXMiOlsiZmlyZWJhc2UiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJpZCIsImRhdGEiLCJBVVRIIiwiREIiLCJSRUYiLCJlbmRwb2ludCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJyZWYiLCJoZWxsbyIsImNoaWxkIiwic2V0IiwicHJvdmlkZXJMb2dvcyIsIkxvZ2luIiwibG9naW5XaXRoIiwicHJvdmlkZXJOYW1lIiwicHJvdmlkZXIiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJhZGRTY29wZSIsImxhbmd1YWdlQ29kZSIsInNldEN1c3RvbVBhcmFtZXRlcnMiLCJsb2dpbl9oaW50Iiwic2lnbkluV2l0aFBvcHVwIiwidGhlbiIsInJlc3VsdCIsInRva2VuIiwidXNlciIsInByb3BzIiwic2V0VXNlciIsImhpc3RvcnkiLCJwdXNoIiwiY2F0Y2giLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwiZW1haWwiLCJjcmVkZW50aWFsIiwiYWxlcnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsIm1heFdpZHRoIiwibWFyZ2luIiwiZm9udFNpemUiLCJ0ZXh0QWxpZ24iLCJjb2xvciIsInNyYyIsInZpc2lvbkxvZ28iLCJ3aWR0aCIsImhlaWdodCIsIm9uQ2xpY2siLCJ0aGlzIiwiQ29tcG9uZW50IiwiY29ubmVjdCIsInN0YXRlIiwib3duUHJvcHMiLCJjdXJyZW50VXNlciIsInNlc3Npb24iLCJkaXNwYXRjaCIsImJpbmRBY3Rpb25DcmVhdG9ycyIsImFkZFRvYXN0Iiwic2V0VmlkZW9Nb2RhbCIsIndpdGhSb3V0ZXIiXSwibWFwcGluZ3MiOiJrUUFnQkFBLGdCQVh1QixDQUNuQkMsT0FBUSwwQ0FDUkMsV0FBWSxrQ0FDWkMsWUFBYSx5Q0FDYkMsVUFBVyxrQkFDWEMsY0FBZSw4QkFDZkMsa0JBQW1CLGdCQUNuQkMsTUFBTyw2Q0FDUEMsY0FBZSxpQkFLWixJQW9ENEJDLEVBQUlDLEVBcEQxQkMsRUFBT1gsU0FDUFksRUFBS1osYUFFTGEsR0FEVWIsWUFDSixTQUFDYyxHQUE2QixJQUFuQkwsRUFBbUIsNERBQWRNLEVBRS9CLE9BREFDLFFBQVFDLElBQUksaUJBQWtCSCxFQUFVTCxHQUNqQ0csRUFBR00sSUFBSCxXQUFXSixNQStDYUwsRUE2Q1gsVUE3Q2VDLEVBNkNKLENBQUVTLE1BQU8sU0E1Q3hDTixFQTRDUyxXQTNDSk8sTUFBTVgsR0FDTlksSUFBSVgsRyxxQ0N6RUFZLEVBRUQscUZBRkNBLEVBR0MsNjlEQUhEQSxFQUlELG9ELDg5RENtQlosSUFXYUMsRUFBYixhLGtPQUFBLFUsTUFBQSxpS0FDSUMsVUFBWSxTQUFDQyxHQUFELE9BQWtCLFdBQzFCLElBQUlDLEVBRUosT0FBUUQsR0FDUixJQUFLLFVBQ0RDLEVBQVcsSUFBSTFCLE9BQWMyQixvQkFFcEJDLFNBQVMscURBR2xCakIsRUFBS2tCLGFBQWUsS0FFcEJILEVBQVNJLG9CQUFvQixDQUN6QkMsV0FBWSxxQkFHaEIvQixTQUFnQmdDLGdCQUFnQk4sR0FDM0JPLE1BQUssU0FBQ0MsR0FDSGxCLFFBQVFDLElBQUksQ0FDUmtCLE1BQU9ELEVBQU9DLE1BQ2RDLEtBQU1GLEVBQU9FLE9BR2pCLEVBQUtDLE1BQU1DLFFBQVgsT0FBd0JKLEVBQU9FLE1BQS9CLElBQXFDRCxNQUFPRCxFQUFPQyxTQUVuRCxFQUFLRSxNQUFNRSxRQUFRQyxLQUFLLG1CQUUzQkMsT0FBTSxTQUFDQyxHQUNZQSxFQUFNQyxLQUNIRCxFQUFNRSxRQUNiRixFQUFNRyxNQUNESCxFQUFNSSxXQUN2QjlCLFFBQVFDLElBQUksQ0FBRXlCLGFBRXRCLE1BSUosUUFDSUssTUFBTSxrQ0FBRCxPQUFtQ3RCLEVBQW5DLFNBeENqQixXLEVBQUEsRyxFQUFBLGdDQThDUSxPQUNJLHlCQUFLdUIsVUFBVSw0QkFDWCx5QkFBS0EsVUFBVSxXQUFXQyxNQUFPLENBQUVDLFNBQVUsUUFBU0MsT0FBUSxTQUMxRCw2QkFDQSx5QkFBS0YsTUFBTyxDQUFFRyxTQUFVLE9BQVFDLFVBQVcsU0FBVUMsTUFBTyxVQUE1RCxXQUNBLDZCQUNBLHlCQUFLQyxJQUFNQyxJQUFhUCxNQUFPLENBQUVRLE1BQU8sT0FBUUMsT0FBUSxPQUFRUCxPQUFRLFVBQ3hFLDZCQUNBLDRCQUFRSCxVQUFVLGNBQWNXLFFBQVVDLEtBQUtwQyxVQUFVLFdBQ3JELHlCQUFLK0IsSUFBTWpDLElBRGYsdUJBSUEsNEJBQVEwQixVQUFVLGNBQWNXLFFBQVVDLEtBQUtwQyxVQUFVLFdBQ3JELHlCQUFLK0IsSUFBTWpDLElBRGYsdUJBSUEsNEJBQVEwQixVQUFVLGdCQUFnQlcsUUFBVUMsS0FBS3BDLFVBQVUsYUFDdkQseUJBQUsrQixJQUFNakMsSUFEZixnQywyQkE5RHBCLEdBQTJCdUMsYUF3RVpDLHVCQW5GUyxTQUFDQyxFQUFPQyxHQUM1QixNQUFPLENBQ0hDLFlBQWFGLEVBQU1HLFFBQVFELGdCQUdULFNBQUFFLEdBQVEsT0FBSUMsWUFBbUIsQ0FDckRDLGFBQ0EvQixZQUNBZ0MsbUJBQ0RILEtBMEVZTCxDQUE0Q1MsWUFBV2hEIiwiZmlsZSI6ImNodW5rcy9pZGVudGl0eS1sb2dpbi42ODRkZWNkMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2FwcCdcbmltcG9ydCAnZmlyZWJhc2UvYXV0aCdcbmltcG9ydCAnZmlyZWJhc2UvZGF0YWJhc2UnXG5pbXBvcnQgJ2ZpcmViYXNlL3N0b3JhZ2UnXG5cbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICAgIGFwaUtleTogJ0FJemFTeUMtampYOWY3MUdqeEV5LXBvdEtZRmFRSmc4a0FzWTdHQScsXG4gICAgYXV0aERvbWFpbjogJ3Zpc2lvbi1pZGVudGl0eS5maXJlYmFzZWFwcC5jb20nLFxuICAgIGRhdGFiYXNlVVJMOiAnaHR0cHM6Ly92aXNpb24taWRlbnRpdHkuZmlyZWJhc2Vpby5jb20nLFxuICAgIHByb2plY3RJZDogJ3Zpc2lvbi1pZGVudGl0eScsXG4gICAgc3RvcmFnZUJ1Y2tldDogJ3Zpc2lvbi1pZGVudGl0eS5hcHBzcG90LmNvbScsXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6ICcxMDkxMDE1ODExMTQ1JyxcbiAgICBhcHBJZDogJzE6MTA5MTAxNTgxMTE0NTp3ZWI6MzBiZDE4ZTMzNTU2NGI1YmU2NWY5OCcsXG4gICAgbWVhc3VyZW1lbnRJZDogJ0ctMlpNVzBSMTJHUSdcbn1cblxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZylcblxuZXhwb3J0IGNvbnN0IEFVVEggPSBmaXJlYmFzZS5hdXRoKClcbmV4cG9ydCBjb25zdCBEQiA9IGZpcmViYXNlLmRhdGFiYXNlKClcbmV4cG9ydCBjb25zdCBTVE9SQUdFID0gZmlyZWJhc2Uuc3RvcmFnZSgpXG5leHBvcnQgY29uc3QgUkVGID0gKGVuZHBvaW50LCBpZCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdmaXJlYmFzZS5SRUY6ICcsIGVuZHBvaW50LCBpZClcbiAgICByZXR1cm4gREIucmVmKGAvJHtlbmRwb2ludH1gKVxufVxuZXhwb3J0IGNvbnN0IHdhdGNoID0gKHBhdGgsIG9wdGlvbnMgPSB7XG4gICAgb25DaGFuZ2U6IChzbmFwc2hvdCkgPT4gY29uc29sZS5sb2coJ2ZpcmViYXNlLndhdGNoOiBvbkNoYW5nZShzbmFwc2hvdCkgVU5ERUZJTkVEJywgc25hcHNob3QpLFxuICAgIG9uQWRkSXRlbTogKHNuYXBzaG90KSA9PiBjb25zb2xlLmxvZygnZmlyZWJhc2Uud2F0Y2g6IG9uSXRlbUFkZChzbmFwc2hvdCkgVU5ERUZJTkVEJywgc25hcHNob3QpLFxuICAgIG9uQ2hhbmdlSXRlbTogKHNuYXBzaG90KSA9PiBjb25zb2xlLmxvZygnZmlyZWJhc2Uud2F0Y2g6IG9uSXRlbUNoYW5nZShzbmFwc2hvdCkgVU5ERUZJTkVEJywgc25hcHNob3QpLFxuICAgIG9uRGVsZXRlSXRlbTogKHNuYXBzaG90KSA9PiBjb25zb2xlLmxvZygnZmlyZWJhc2Uud2F0Y2g6IG9uSXRlbURlbGV0ZShzbmFwc2hvdCkgVU5ERUZJTkVEJywgc25hcHNob3QpXG59KSA9PiB7XG4gICAgY29uc3QgeyBvbkNoYW5nZSwgb25BZGRJdGVtLCBvbkNoYW5nZUl0ZW0sIG9uRGVsZXRlSXRlbSB9ID0gb3B0aW9uc1xuXG4gICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgIFJFRihwYXRoKS5vbigndmFsdWUnLCBzbmFwc2hvdCA9PiB7XG4gICAgICAgICAgICBvbkNoYW5nZShzbmFwc2hvdClcbiAgICAgICAgfSlcbiAgICB9XG4gICAgaWYgKG9uQ2hhbmdlSXRlbSkge1xuICAgICAgICBSRUYocGF0aCkub24oJ3ZhbHVlJywgc25hcHNob3QgPT4ge1xuICAgICAgICAgICAgb25DaGFuZ2VJdGVtKHNuYXBzaG90KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBpZiAob25BZGRJdGVtKSB7XG4gICAgICAgIFJFRihwYXRoKS5vbigndmFsdWUnLCBzbmFwc2hvdCA9PiB7XG4gICAgICAgICAgICBvbkFkZEl0ZW0oc25hcHNob3QpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGlmIChvbkRlbGV0ZUl0ZW0pIHtcbiAgICAgICAgUkVGKHBhdGgpLm9uKCdjaGlsZF9yZW1vdmVkJywgc25hcHNob3QgPT4ge1xuICAgICAgICAgICAgb25EZWxldGVJdGVtKHNuYXBzaG90KVxuICAgICAgICB9KVxuICAgIH1cbn1cbi8vIE5PVEU6IGNyZWF0ZXMgYSBuZXcgaXRlbSB1bmRlciB0aGUgZ2l2ZW4gcmVzb3VyY2UsICh3aXRoIGEgdW5pcXVlIGlkKVxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IChwYXRoLCBkYXRhKSA9PiB7XG4gICAgUkVGKHBhdGgpLnNldChkYXRhKVxufVxuZXhwb3J0IGNvbnN0IHVwZGF0ZUl0ZW0gPSAocGF0aCwgZGF0YSkgPT4ge1xuICAgIERCLnJlZigpLnVwZGF0ZSh7IFtwYXRoXTogZGF0YSB9KVxufVxuZXhwb3J0IGNvbnN0IGdldCA9IChwYXRoLCBjYWxsYmFjayA9IChzbmFwc2hvdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdmaXJlYmFzZS5nZXQoc25hcHNob3QpIFVOREVGSU5FRCcsIHNuYXBzaG90KVxufSkgPT4ge1xuICAgIFJFRihwYXRoKVxuICAgICAgICAub25jZSgndmFsdWUnKVxuICAgICAgICAudGhlbihzbmFwc2hvdCA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhzbmFwc2hvdClcbiAgICAgICAgfSlcbn1cbmV4cG9ydCBjb25zdCBjcmVhdGVXaXRoSWQgPSAocGF0aCwgaWQsIGRhdGEpID0+IHtcbiAgICBSRUYocGF0aClcbiAgICAgICAgLmNoaWxkKGlkKVxuICAgICAgICAuc2V0KGRhdGEpXG59XG4vLyBBVVRIXG4vLyAtIGxvZ2luXG5leHBvcnQgY29uc3QgZW1haWxBdXRoTG9naW4gPSAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gICAgcmV0dXJuIEFVVEguc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKVxufVxuLy8gLSByZWdpc3RlclxuZXhwb3J0IGNvbnN0IGVtYWlsQXV0aFJlZ2lzdGVyID0gKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICAgIHJldHVybiBBVVRILmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpXG59XG4vLyAtIGxvZ291dFxuZXhwb3J0IGNvbnN0IGxvZ091dCA9ICgpID0+IEFVVEguc2lnbk91dCgpXG5cbmV4cG9ydCBjb25zdCBjbGVhbiA9IChvYmopID0+IHtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9ialtwcm9wTmFtZV0gPT09IG51bGwgfHwgb2JqW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgb2JqW3Byb3BOYW1lXVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLy8gZmlyZWJhc2VcbiAgICBBVVRILFxuICAgIERCLFxuICAgIFJFRixcbiAgICAvLyBjdXN0b20gZnVuY3Rpb25zXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZUl0ZW0sXG4gICAgZ2V0LFxuICAgIHdhdGNoLFxuICAgIC8vXG4gICAgbG9nT3V0LFxuICAgIHNpZ25PdXQ6IGxvZ091dCxcbiAgICBlbWFpbEF1dGhMb2dpbixcbiAgICBsb2dpbjogZW1haWxBdXRoTG9naW4sXG4gICAgZW1haWxBdXRoUmVnaXN0ZXIsXG4gICAgcmVnaXN0ZXI6IGVtYWlsQXV0aFJlZ2lzdGVyXG59XG5cbi8vIGNyZWF0ZSgnbXkvdGVzdCcsIHsgICAgIGhlbGxvOiAnd29ybGQnIH0pXG5jcmVhdGVXaXRoSWQoJ215L3Rlc3QnLCAndGVzdGluZycsIHsgaGVsbG86ICd3b3JsZCcgfSlcbiIsImV4cG9ydCBjb25zdCBwcm92aWRlckxvZ29zID0ge1xuICAgIGxpbmtlZEluOiAnaHR0cHM6Ly9jZG4yLmljb25maW5kZXIuY29tL2RhdGEvaWNvbnMvb24tcG9pbnQtc29jaWFsLW1lZGlhLzE0MS9MaW5rZWRJbi01MTIucG5nJyxcbiAgICBnb29nbGU6ICdodHRwczovL2Fzc2V0cy5tYXRlcmlhbHVwLmNvbS91cGxvYWRzLzgyZWFlMjllLTMzYjctNGZmNy1iZTEwLWRmNDMyNDAyYjJiNi9wcmV2aWV3JyxcbiAgICBmYWNlYm9vazogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBT0VBQUFEaENBTUFBQUFKYlNKSUFBQUFsbEJNVkVVN1daai8vLzg4V3BkQVhacEJYNXRGWTUxRllaM3Q3L1Y2amJnb1M0OHZVSkxTMk9kU2E2TTNWWlp1aExLMndOZjMrZnZkNHUySW1yOU5hS0hFemVEdjhmZmg1dXhqZTZuczcvRTRWNW94VXBqVzNlUjdqN1JkZGFuazZQSEJ5dDZkcTh1UW9NTWpSNDJWcE1DTG5idkR6Tm1zdU0yMHY5RlZiNktudGRGaWVxeTB2OWk4eHR5WXFNbCtrYnNkUVlvc1Q1cUNsclkxUVhoZ0FBQUUrRWxFUVZSNG5PM2RiWHVpT0JTQTRRQUNCaG9FOGFWYThYV2NxcWpkL3Y4L3Q2THR6dXpzS2dkaUlDZlhlYjdPTlpHN1FhTUdXbWJkR3IxL1pxbm5laTcrUE05THh6KzIvcGVNM1h5YjNXVENET3FpR2Y5OC9TWGNqczN5WFp1STd0dTNjT0ZPMno0Y0JkbHNtcjNkaEZ2UHZBbThOYzFHaFhBME5uRUdpeTZ6T0lzdndvMnBNMWprdkZ0c3RETlpPSWxpOW00eWtERnZ5MlptQzUwWjI3VjlESXJiTWEvdFExQ2N4enB0SDRMYWJJZUUyQ01oL2tpSVB4TGlqNFQ0SXlIK1NJZy9FdUtQaFBnallkdUpvdUNhK0tkS0krZ3J2TUdFN2JucHk3VTBkVjNQc2IvLzVRdGRPbzZld3NJZ3ZLeTcyaC9ETUpuN3ZqOHZTcElrREFlTFhyNWZydnJuNkpDbHJsMDZsb2JDWW9hY1E3K1h4TEgxb1BpU1A4KzlzbG5VVGloNGtIYjM4MGUyMzV1blFjbUFlZ2x0d2RsaEgwSjVseElYbDVDTEtBZFBIMEpod0xQY0wwZmhGWEsyck9wREpSVHJxTXJ6RDU4d0NFN1ZKeENUTUhEMmRYeDRoTHpUcXdmRUl1VHBvQ1lRaVRCd2F3TlJDTzNBcm51SzRoRGFRaXpyQXpFSUdlOC8vQWlCWDhnUGlRUVFnVkN3b3d3UWdWRHVIRVVnRkk3VU9hcS9VQVFuT2FEMnd1Q2wydWRkaEVMWktkUmRLRnpKWjZIdVFsdjJoVlI3SVJQMTMzSGpFQWFIV2gvckVRblhKK21UVkcraENPUlBVcjJGOG91aDdrSitIc29MdGQ2MzRGVytYaHNtNGVMWXkvK3N0OVI0NzBuQTE0cmhZSG5PVXVmeXpCVi9GT2k4UXhwQTM5REUrWUZ4SHZ4SEI5enhiay9JZ2F0aEVnVzgyczc5djJ0UmVBYXRobUVHT0JNZjFhSndCUUhPTTZrSlpLMCtEMEV2cFgxWllIdENJWElBY09DVUxYZWx0U2RrQzREd3hLVWZxRFZoMEFFc2gvTURaaUZrTzJiZ1NaK2tMUXBUd0taMlQzS2xLTkpidUpRL1NWc1V2cFFMNDVYcHdtRi9MZjlBZWd2UHZQemF3N0swRnZwZEVnSWlvYkpJU0VKd0pGUVdDVWtJam9US0lpRUp3WkZRV1NRa0lUZ1NLc3Q0b1EwVVB1R1JWQW9Gdjk5SEJ5Q01QaDZNVUFUNDBsK2xVS1RSL1E3bjhtMzg0Zkx3WUlUcktPM3U0d2Zub1grL0lXQ1QrOUgvdjQ3Ulc1Y1NWUXA1djl3ZzJiNzhTM0hjd25obHZCRHdZb3RiT016S1gweHhDLzIwM2RkUzljS0VtUzRjdEx6aXF4Zm1nSGQxcUlVeFpKOGZ0N0J2dkRBeVhRaFpEbkVMNTREbEVMY3dkRXdYSGdFTFBtN2hIbkxaRzJaaHZJSmN1WWhhZURaZUdKa3U5SGVtQzVQU3U3cXdDd2VRNVJDMU1JY3NoNmlGSjlCdk1zVXM3SU11NU1jc0JDMFdtSVV4NUxNVGF1SDhCWFF6Qm1KaFdIb0xNSGJoQXJSWVlCYnVZYi8yV3Fsd3BWUzRoTjMxcFhTSE5PcmRMeitXMytnY0QvTDdBeHdqMkYxZmFxOVUrUDhieksrdEFYZDIrZDJQQnlNQWIydHJUY2hCd3JVMFVQdXJUZkJlVDJQK0ZVTWtKQ0U4RWlxTGhDUUVSMEpsa1pDRTRFaW9MQktTRUJ3SmxVVkNFb0lqb2JKSVNFSndKRlFXQ1VrSWpvVEtJaUVKd1pGUVdTUWtJVGdTS291RUpBUkhRbVdSa0lUZ1NLZ3NFcElRSEFtVlJVSVNnaU9oc2toSVFuQWtWQllKU1FpT2hNb2lJUW5Ca1ZCWkpDUWhPQklxaTRUUEZEcFBPTjdxTlNsMG4zQzgxV3RPNkxMeEU0NjNlbzBKTDc3UGlmd28xV3RNMlBuQnRrWUxSZnJHWHNlVEo1d0xWV3RLT0puRnpQcjVqQ091V2tOQzRXMHRacjEycDZ6eFdXeElPTjNFRjZIMWxrMmZjdFJWYWtiNDErelZLb1J0RUpzUWlra0J2QXF0MGN4cCtCVlYvViswRWhOM1V3QnZRaXZlUnA3VDVQczNrUEJjWCtnNDZXeDcrNE5MN0d1NGVQdVpwYTdYVkN3THJmaHhGNkdvTzN3NjNyeDkvNkQrQm5jRWxrZXZZajVjQUFBQUFFbEZUa1N1UW1DQycsXG4gICAgZ2l0aHViOiAnaHR0cHM6Ly9pbWFnZS5mbGF0aWNvbi5jb20vaWNvbnMvc3ZnLzI1LzI1MjMxLnN2Zydcbn1cbiIsIi8vICNyZWdpb24gTW9kdWxlc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSdcbmltcG9ydCB7IEFVVEggfSBmcm9tICd1dGlsL2ZpcmViYXNlJ1xuaW1wb3J0IHsgQVFQdXJwbGUsIEFRUGluayB9IGZyb20gJ3V0aWwvY29sb3JzJ1xuLy8gI2VuZHJlZ2lvbiBNb2R1bGVzXG5cbi8vICNyZWdpb24gTWlzY1xuaW1wb3J0IHtcbiAgICBzZXRVc2VyLFxuICAgIGFkZFRvYXN0LFxuICAgIHNldFZpZGVvTW9kYWxcbn0gZnJvbSAnZGF0YS9yZWR1eC9zZXNzaW9uL2FjdGlvbnMnXG4vLyAjZW5kcmVnaW9uXG5cbi8vICNyZWdpb24gQXNzZXRzICYgRGF0YVxuaW1wb3J0IHZpc2lvbkxvZ28gZnJvbSAnaW1nL3Zpc2lvbi1sb2dvLTItYmx1ZS5wbmcnXG5pbXBvcnQgeyBwcm92aWRlckxvZ29zIH0gZnJvbSAnLi9wcm92aWRlci1sb2dvcydcbi8vICNlbmRyZWdpb25cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgb3duUHJvcHMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50VXNlcjogc3RhdGUuc2Vzc2lvbi5jdXJyZW50VXNlclxuICAgIH1cbn1cbmNvbnN0IG1hcEFjdGlvbnNUb1Byb3BzID0gZGlzcGF0Y2ggPT4gYmluZEFjdGlvbkNyZWF0b3JzKHtcbiAgICBhZGRUb2FzdCxcbiAgICBzZXRVc2VyLFxuICAgIHNldFZpZGVvTW9kYWxcbn0sIGRpc3BhdGNoKVxuXG5leHBvcnQgY2xhc3MgTG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGxvZ2luV2l0aCA9IChwcm92aWRlck5hbWUpID0+ICgpID0+IHtcbiAgICAgICAgbGV0IHByb3ZpZGVyXG5cbiAgICAgICAgc3dpdGNoIChwcm92aWRlck5hbWUpIHtcbiAgICAgICAgY2FzZSAnZ29vZ2xlJzpcbiAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKClcblxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY29udGFjdHMucmVhZG9ubHknKVxuXG4gICAgICAgICAgICAvLyBUT0RPOiB0aWUgaW50byB0cmFuc2xhdGlvbiB1dGlsXG4gICAgICAgICAgICBBVVRILmxhbmd1YWdlQ29kZSA9ICdlbidcblxuICAgICAgICAgICAgcHJvdmlkZXIuc2V0Q3VzdG9tUGFyYW1ldGVycyh7XG4gICAgICAgICAgICAgICAgbG9naW5faGludDogJ3VzZXJAZXhhbXBsZS5jb20nXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHJlc3VsdC50b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHJlc3VsdC51c2VyXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHNldCB1c2VyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0VXNlcih7IC4uLnJlc3VsdC51c2VyLCB0b2tlbjogcmVzdWx0LnRva2VuIH0pXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGNoZWNrIHVybCBmb3IgcmVkaXJlY3QvaGFzaFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhpc3RvcnkucHVzaCgnL2FwcC9wcm9maWxlJylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGVcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVtYWlsID0gZXJyb3IuZW1haWxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSBlcnJvci5jcmVkZW50aWFsXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHsgZXJyb3IgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgLy8gVE9ETzogYWRkIGF1dGggY2FzZXMgZm9yOiBlbWFpbCwgZmFjZWJvb2ssIGdpdGh1YlxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhbGVydChgQXV0aCBQcm92aWRlciBub3QgY29uZmlndXJlZDogXCIke3Byb3ZpZGVyTmFtZX1cImApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlIGdyYWRpZW50LWJhY2tncm91bmQnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LWNvbCcgc3R5bGU9e3sgbWF4V2lkdGg6ICcxNXJlbScsIG1hcmdpbjogJ2F1dG8nIH19PlxuICAgICAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzJyZW0nLCB0ZXh0QWxpZ246ICdjZW50ZXInLCBjb2xvcjogJ3doaXRlJyB9fT5BbmdlbGlRPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17IHZpc2lvbkxvZ28gfSBzdHlsZT17eyB3aWR0aDogJzZyZW0nLCBoZWlnaHQ6ICc2cmVtJywgbWFyZ2luOiAnYXV0bycgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPSdhdXRoIGdvb2dsZScgb25DbGljaz17IHRoaXMubG9naW5XaXRoKCdnb29nbGUnKSB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9eyBwcm92aWRlckxvZ29zLmdvb2dsZSB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBTaWduIGluIHdpdGggR29vZ2xlXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0nYXV0aCBnaXRodWInIG9uQ2xpY2s9eyB0aGlzLmxvZ2luV2l0aCgnZ2l0aHViJykgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXsgcHJvdmlkZXJMb2dvcy5naXRodWIgfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgU2lnbiBpbiB3aXRoIEdpdGh1YlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J2F1dGggZmFjZWJvb2snIG9uQ2xpY2s9eyB0aGlzLmxvZ2luV2l0aCgnZmFjZWJvb2snKSB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9eyBwcm92aWRlckxvZ29zLmZhY2Vib29rIH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNpZ24gaW4gd2l0aCBGYWNlYm9va1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwQWN0aW9uc1RvUHJvcHMpKHdpdGhSb3V0ZXIoTG9naW4pKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==